webpackJsonp([1],{"+skl":function(t,e){},LCbT:function(t,e){},Lx0P:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout"},[n("Layout",[n("Header",[n("Menu",{attrs:{mode:"horizontal",theme:"dark","active-name":"1"}},[n("img",{staticClass:"layout-logo",attrs:{src:t.$store.state.config.logoImg}}),t._v(" "),n("div",{staticClass:"layout-nav"},[n("MenuItem",{attrs:{name:"1"}},[n("Icon",{attrs:{type:"ios-navigate"}}),t._v(" "),n("router-link",{attrs:{to:"/company"}},[t._v("资料借用")])],1),t._v(" "),n("MenuItem",{attrs:{name:"2"}},[n("Icon",{attrs:{type:"ios-keypad"}}),t._v(" "),n("a",{attrs:{target:"_blank",href:t.$store.state.config.adminUrl}},[t._v("管理后台")])],1)],1)])],1),t._v(" "),n("Content",{staticClass:"content"},[n("Breadcrumb",{staticClass:"breadcrumb"},t._l(t.bcs,function(e){return n("BreadcrumbItem",{key:e.id},[t._v(t._s(e.title))])})),t._v(" "),n("Card",[n("div",{staticStyle:{"min-height":"200px"}},[n("router-view")],1)])],1),t._v(" "),n("Footer",{staticClass:"layout-footer-center"},[t._v("2018 © "+t._s(t.$store.state.config.companyName))])],1)],1)},staticRenderFns:[]};var o,i=n("VU/8")({computed:{bcs:function(){return this.$store.getters.breadcrumb}}},a,!1,function(t){n("LCbT"),n("Lx0P")},"data-v-0803177e",null).exports,s=n("/ocq"),c=n("Dd8w"),l=n.n(c),d={name:"ListCompany",data:function(){var t=this;return{searchValue:"",loading:!0,columns:[{type:"index",align:"center",width:60},{title:"标题",key:"title",width:200},{title:"所属行业",key:"industry"},{title:"业务员",key:"saleman"},{title:"记账会计",key:"bookkeeper"},{title:"纳税人类型",key:"taxpayer_type"},{title:"执照过期日期",key:"license_status"},{title:"代理状态",key:"status"},{title:"联系人信息",key:"contactor_info",width:200},{title:"操作",key:"action",align:"center",render:function(e,n){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:"margin-bottom: 5px",on:{click:function(){t.toListEntity(n.row.id)}}},"资料管理"),e("Button",{props:{type:"info",size:"small"},on:{click:function(){t.toListRevertEntity(n.row.id)}}},"归还记录")])}}]}},methods:{toListEntity:function(t){this.$router.push({name:"ListEntity",params:{companyId:t}})},toListRevertEntity:function(t){this.$router.push({name:"ListRevertEntity",params:{companyId:t}})},pageChange:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$store.dispatch("FETCH_COMPANY_LIST",l()({page:t},n)).then(function(n){e.$store.commit("SET_PAGINATION_PAGE",t),e.$store.commit("SET_PAGINATION_COUNT",n.msg.count),e.loading=!1})},search:function(t){13===t.which&&(this.loading=!0,this.pageChange(1,{title:this.searchValue}))}},computed:{pagination:function(){return this.$store.state.pagination.data},data:function(){return this.$store.getters.companyList}},created:function(){window.title=this.$store.state.config.companyName,this.pageChange(this.pagination.page)}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Input",{attrs:{placeholder:"搜索公司",icon:"ios-search"},on:{"on-keypress":t.search},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),t._v(" "),n("Table",{attrs:{loading:t.loading,columns:t.columns,data:t.data}}),t._v(" "),t.pagination.count>0?n("Page",{attrs:{current:t.pagination.page,total:t.pagination.count,"class-name":"gap-top","show-elevator":""},on:{"on-change":t.pageChange}}):t._e()],1)},staticRenderFns:[]},p=n("VU/8")(d,u,!1,null,null,null).exports,m=n("woOf"),_=n.n(m),f=[],h={name:"ListEntity",props:["companyId"],data:function(){var t=this;return{loading:!1,columns:[{type:"selection",align:"center",width:60},{type:"index",align:"center",width:60},{title:"物品",key:"entity"},{title:"数量",key:"amount",width:60},{title:"签收人",key:"signer"},{title:"签收日期",key:"sign_date"},{title:"借用人",key:"borrower"},{title:"借用日期",key:"borrow_date"},{title:"归还日期",key:"revert_borrow_date"},{title:"状态",key:"status",width:60},{title:"备注",key:"descript"},{title:"操作",key:"action",align:"center",render:function(e,n){return e("div",[e("Button",{props:{type:"primary",size:"small",disabled:n.row._disabled},on:{click:function(){t.updateEntity(n.row.id)}}},"修改")])}}],addEntityModal:!1}},computed:{pagination:function(){return this.$store.state.pagination.data},data:function(){return this.$store.getters.entitys},result:function(){return this.data.length?this.data.map(function(t){return _()({_disabled:"归还"===t.status},t)}):[]}},methods:{addEntity:function(){this.$router.push({name:"AddEntity",params:{companyId:this.companyId}})},updateEntity:function(t){this.$router.push({name:"UpdateEntity",params:{companyId:this.companyId,entityListId:t,old:this.getDataById(t)}})},getDataById:function(t){return this.data.find(function(e){return e.id===t})},selectChange:function(t){f=t},revertEntity:function(){var t=this;0!==f.length?this.$store.dispatch("REVERT_ENTITYS",{selected:f.map(function(t){return t.id})}).then(function(e){var n=e.msg,r=f.map(function(t){return{entity:t.entity,amount:t.amount}});f=[],t.$router.push({name:"Print",params:{companyId:t.companyId,entitys:r,orderId:n}})}):this.$store.dispatch("SHOW_NOTIFY",{title:"还没选择归还物品",type:"warning"})}},created:function(){var t=this;this.$store.getters.companyById(parseInt(this.companyId))?(this.loading=!0,this.$store.dispatch("FILTER_ENTITYS_ALL_LIST",{company_id:parseInt(this.companyId),status:"归还"}).then(function(){t.loading=!1})):this.$store.dispatch("SHOW_NOTIFY",{title:"没有找到对应的公司",desc:"请重新选择公司进入资料管理",type:"error",duration:0})}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Table",{attrs:{loading:t.loading,columns:t.columns,data:t.result},on:{"on-selection-change":t.selectChange}}),t._v(" "),n("div",{staticClass:"gap-top"},[n("Button",{attrs:{type:"warning"},on:{click:t.addEntity}},[t._v("资料录入")]),t._v(" "),n("Button",{attrs:{type:"info"},on:{click:t.revertEntity}},[t._v("归还")]),t._v(" "),n("Button",{attrs:{type:"default"},on:{click:function(e){t.$router.back()}}},[t._v("后退")])],1)],1)},staticRenderFns:[]},v=n("VU/8")(h,y,!1,null,null,null).exports,g=n("NYxO"),I=n("pFYg"),b=n.n(I),w=n("d7EF"),k=n.n(w),T=n("+6Bu"),E=n.n(T),L=n("mvHQ"),S=n.n(L),C=n("fZjL"),$=n.n(C),P=n("BO1k"),F=n.n(P),N=function(t,e){var n=e.type,r=E()(e,["type"]),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={},i=document.querySelector("input[name=csrfmiddlewaretoken]");return a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URLSearchParams,r=!0,a=!1,o=void 0;try{for(var i,s=F()($()(t));!(r=(i=s.next()).done);r=!0){var c=i.value;n.append(c,t[c]instanceof Object?S()(t[c]):t[c])}}catch(t){a=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return e.Accept="application/json",e["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",{method:"POST",body:n,headers:e}}({type:n,data:r},a),i&&(o["X-CSRFToken"]=i.value),a.headers&&(o=_()({},o,a.headers||{})),fetch(t,_()({method:"POST",cache:"no-cache",credentials:"include"},a,{headers:o}))},O=function(t,e){return{status:!0,code:0,msg:{count:e||t.length,page_count:1,page:1,has_prev:!1,has_next:!1,datas:A(t)}}},R=function(t){return{status:!0,code:0,msg:A(t)}},x=function(t,e,n){var r=t.split("."),a=r.slice(-1),o=k()(a,1)[0],i=r.slice(0,-1).reduce(function(t,e){return t?t[e]:null},n);return i&&(i[o]=i[o].map(e)),n},A=function t(e){return"object"===(void 0===e?"undefined":b()(e))?e.length?e.map(t):l()({},e):e},Y=function(t){return t?t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate():t},B={name:"ListRevertEntity",props:["companyId"],data:function(){return{loading:!1,columns:[{type:"index",align:"center",width:60},{title:"归还编号",key:"order_id"},{title:"物品",key:"entity"},{title:"数量",key:"amount",width:60},{title:"签收人",key:"signer"},{title:"签收日期",key:"sign_date"},{title:"借用人",key:"borrower"},{title:"借用日期",key:"borrow_date"},{title:"归还日期",key:"revert_borrow_date"},{title:"状态",key:"status",width:60},{title:"备注",key:"descript"}],formItem:{order_id:void 0,entity_id:void 0,signer_id:void 0,sign_date:["",""],borrower_id:void 0,borrow_date:["",""],revert_date:["",""],descript:void 0},searchPeopleLoading:!1}},computed:l()({pagination:function(){return this.$store.state.pagination.data},data:function(){return this.$store.getters.entitys}},Object(g.b)(["entityList","peoples"])),methods:{handlePeopleSearch:(o=void 0,function(t){var e=this;""!==t&&(o&&clearTimeout(o),o=setTimeout(function(){o=void 0,e.searchPeopleLoading=!0,e.$store.dispatch("FILTER_PEOPLES_LIST",{name:t}).then(function(){e.searchPeopleLoading=!1})},200))}),handleSearch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.formItem.sign_date.map(Y).filter(function(t){return t}),r=this.formItem.borrow_date.map(Y).filter(function(t){return t}),a=this.formItem.revert_date.map(Y).filter(function(t){return t}),o=_()({},this.formItem,{sign_date:n.length?n:void 0,borrow_date:r.length?r:void 0,revert_date:a.length?a:void 0,status:"归还",page:e,company_id:this.companyId});this.loading=!0,this.$store.dispatch("FILTER_ENTITYS_LIST",o).then(function(n){t.$store.commit("SET_PAGINATION_PAGE",e),t.$store.commit("SET_PAGINATION_COUNT",n.msg.count),t.loading=!1})}},created:function(){this.$store.getters.companyById(parseInt(this.companyId))?(this.handleSearch(),this.$store.dispatch("FILTER_ENTITY_LIST")):this.$store.dispatch("SHOW_NOTIFY",{title:"没有找到对应的公司",desc:"请重新选择公司进入资料管理",type:"error",duration:0})}},D={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Card",[n("Form",{attrs:{model:t.formItem}},[n("Row",[n("Col",{attrs:{span:"6"}},[n("Input",{model:{value:t.formItem.order_id,callback:function(e){t.$set(t.formItem,"order_id",e)},expression:"formItem.order_id"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v(" 归还编号：")])])],1),t._v(" "),n("Col",{attrs:{span:"6"}},[n("Select",{attrs:{clearable:"",placeholder:"选择物品"},model:{value:t.formItem.entity_id,callback:function(e){t.$set(t.formItem,"entity_id",e)},expression:"formItem.entity_id"}},t._l(t.entityList,function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),n("Col",{attrs:{span:"6"}},[n("Select",{attrs:{filterable:"",remote:"",clearable:"","remote-method":t.handlePeopleSearch,loading:t.searchPeopleLoading,placeholder:"选择签收人"},model:{value:t.formItem.signer_id,callback:function(e){t.$set(t.formItem,"signer_id",e)},expression:"formItem.signer_id"}},t._l(t.peoples,function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),n("Col",{attrs:{span:"6"}},[n("Select",{attrs:{filterable:"",remote:"",clearable:"","remote-method":t.handlePeopleSearch,loading:t.searchPeopleLoading,placeholder:"选择借用人"},model:{value:t.formItem.borrower_id,callback:function(e){t.$set(t.formItem,"borrower_id",e)},expression:"formItem.borrower_id"}},t._l(t.peoples,function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1)],1),t._v(" "),n("Row",{attrs:{"class-name":"gap-top"}},[n("Col",{attrs:{span:"6"}},[n("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"daterange",placeholder:"选择签收日期"},model:{value:t.formItem.sign_date,callback:function(e){t.$set(t.formItem,"sign_date",e)},expression:"formItem.sign_date"}})],1),t._v(" "),n("Col",{attrs:{span:"6"}},[n("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"daterange",placeholder:"选择借用日期"},model:{value:t.formItem.borrow_date,callback:function(e){t.$set(t.formItem,"borrow_date",e)},expression:"formItem.borrow_date"}})],1),t._v(" "),n("Col",{attrs:{span:"6"}},[n("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"daterange",placeholder:"选择归还日期"},model:{value:t.formItem.revert_date,callback:function(e){t.$set(t.formItem,"revert_date",e)},expression:"formItem.revert_date"}})],1),t._v(" "),n("Col",{attrs:{span:"6"}},[n("Input",{model:{value:t.formItem.descript,callback:function(e){t.$set(t.formItem,"descript",e)},expression:"formItem.descript"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v(" 备注：")])])],1)],1),t._v(" "),n("Row",{attrs:{"class-name":"gap-top"}},[n("Button",{attrs:{type:"info"},on:{click:function(e){t.handleSearch()}}},[t._v("搜索")]),t._v(" "),n("Button",{attrs:{type:"default"},on:{click:function(e){t.$router.back()}}},[t._v("后退")])],1)],1)],1),t._v(" "),n("div",{staticClass:"gap-top"}),t._v(" "),n("Table",{attrs:{loading:t.loading,columns:t.columns,data:t.data}}),t._v(" "),t.pagination.count>0?n("Page",{attrs:{current:t.pagination.page,total:t.pagination.count,"class-name":"gap-top","show-elevator":""},on:{"on-change":t.handleSearch}}):t._e()],1)},staticRenderFns:[]},H=n("VU/8")(B,D,!1,null,null,null).exports,U={props:["companyId","entityListId","old"],data:function(){return{formItem:{entity_id:"",amount:0,signer_id:"",sign_date:void 0,borrower_id:void 0,borrow_date:void 0,revert_borrow_date:void 0,revert_date:void 0,status:"寄存",descript:""},dateOptions:{shortcuts:[{text:"今天",value:function(){return new Date}}]},spinShow:!0,searchPeopleLoading:!1,defaultFormSigner:this.old?this.old.signer:"",defaultFormBorrower:this.old?this.old.borrower:""}},computed:Object(g.b)(["entityList","peoples"]),methods:{handlePeopleSearch:function(){var t=void 0;return function(e){var n=this;""!==e&&(t&&clearTimeout(t),t=setTimeout(function(){t=void 0,n.searchPeopleLoading=!0,n.$store.dispatch("FILTER_PEOPLES_LIST",{name:e}).then(function(){n.searchPeopleLoading=!1})},200))}}(),addEntity:function(){console.log("before",this.formItem);var t=_()({},this.formItem,{sign_date:Y(this.formItem.sign_date||void 0),borrow_date:Y(this.formItem.borrow_date||void 0),revert_borrow_date:Y(this.formItem.revert_borrow_date||void 0),revert_date:Y(this.formItem.revert_date||void 0),company_id:this.companyId,id:this.entityListId});return console.log("after",this.formItem),this.$store.dispatch("UPDATE_ENTITYS",{entityList:t})},addEntityAndBack:function(){var t=this;this.spinShow=!0,this.addEntity().then(function(){t.spinShow=!1,t.$store.dispatch("SHOW_NOTIFY",{title:"提交成功",type:"info"}),t.$router.back()})},addEntityAndNext:function(){var t=this;this.addEntity().then(function(){t.$store.dispatch("SHOW_NOTIFY",{title:"提交成功",type:"info"}),t.formItem.amount=0,t.formItem.entity_id=""})}},created:function(){var t=this;this.old&&(this.formItem=_()({},this.formItem,this.old)),this.$store.dispatch("FILTER_ENTITY_LIST").then(function(){t.spinShow=!1})}},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Form",{attrs:{model:t.formItem,"label-width":80}},[n("FormItem",{attrs:{label:"物品"}},[n("Select",{model:{value:t.formItem.entity_id,callback:function(e){t.$set(t.formItem,"entity_id",e)},expression:"formItem.entity_id"}},t._l(t.entityList,function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),n("FormItem",{attrs:{label:"数量"}},[n("InputNumber",{attrs:{min:0},model:{value:t.formItem.amount,callback:function(e){t.$set(t.formItem,"amount",e)},expression:"formItem.amount"}})],1),t._v(" "),n("FormItem",{attrs:{label:"签收人"}},[n("Select",{attrs:{filterable:"",remote:"",label:t.defaultFormSigner,"remote-method":t.handlePeopleSearch,loading:t.searchPeopleLoading},model:{value:t.formItem.signer_id,callback:function(e){t.$set(t.formItem,"signer_id",e)},expression:"formItem.signer_id"}},t._l(t.peoples,function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),n("FormItem",{attrs:{label:"签收时间"}},[n("DatePicker",{attrs:{type:"date",options:t.dateOptions},model:{value:t.formItem.sign_date,callback:function(e){t.$set(t.formItem,"sign_date",e)},expression:"formItem.sign_date"}})],1),t._v(" "),n("FormItem",{attrs:{label:"借用人"}},[n("Select",{attrs:{filterable:"",remote:"",label:t.defaultFormBorrower,"remote-method":t.handlePeopleSearch,loading:t.searchPeopleLoading},model:{value:t.formItem.borrower_id,callback:function(e){t.$set(t.formItem,"borrower_id",e)},expression:"formItem.borrower_id"}},t._l(t.peoples,function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),n("FormItem",{attrs:{label:"借用日期"}},[n("DatePicker",{attrs:{type:"date",options:t.dateOptions},model:{value:t.formItem.borrow_date,callback:function(e){t.$set(t.formItem,"borrow_date",e)},expression:"formItem.borrow_date"}})],1),t._v(" "),n("FormItem",{attrs:{label:"还回日期"}},[n("DatePicker",{attrs:{type:"date",options:t.dateOptions},model:{value:t.formItem.revert_borrow_date,callback:function(e){t.$set(t.formItem,"revert_borrow_date",e)},expression:"formItem.revert_borrow_date"}})],1),t._v(" "),n("FormItem",{attrs:{label:"归还日期"}},[n("DatePicker",{attrs:{type:"date",options:t.dateOptions},model:{value:t.formItem.revert_date,callback:function(e){t.$set(t.formItem,"revert_date",e)},expression:"formItem.revert_date"}})],1),t._v(" "),n("FormItem",{attrs:{label:"状态"}},[n("Select",{model:{value:t.formItem.status,callback:function(e){t.$set(t.formItem,"status",e)},expression:"formItem.status"}},[n("Option",{attrs:{value:"寄存"}},[t._v("寄存")]),t._v(" "),n("Option",{attrs:{value:"借出"}},[t._v("借出")]),t._v(" "),n("Option",{attrs:{value:"归还"}},[t._v("归还")])],1)],1),t._v(" "),n("FormItem",{attrs:{label:"备注"}},[n("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5}},model:{value:t.formItem.descript,callback:function(e){t.$set(t.formItem,"descript",e)},expression:"formItem.descript"}})],1),t._v(" "),n("FormItem",[n("Button",{attrs:{type:"primary"},on:{click:t.addEntityAndBack}},[t._v("保存")]),t._v(" "),t.entityListId?t._e():n("Button",{attrs:{type:"primary"},on:{click:t.addEntityAndNext}},[t._v("保存并编辑下一个")]),t._v(" "),n("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:function(e){t.$router.back()}}},[t._v("取消")])],1)],1),t._v(" "),t.spinShow?n("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)},staticRenderFns:[]},V=n("VU/8")(U,M,!1,null,null,null).exports,W={name:"Print",props:["entitys","companyId","orderId"],data:function(){return{columns:[{type:"index",align:"center",width:60},{title:"物品",key:"entity"},{title:"数量",key:"amount",width:60}],now:new Date}},computed:{client:function(){return this.$store.getters.companyById(parseInt(this.companyId))}},methods:{startPrint:function(){window.print()}},created:function(){this.companyId&&this.orderId||this.$store.dispatch("SHOW_NOTIFY",{title:"参数错误",type:"error",duration:0})}},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapp-print"},[n("div",{staticClass:"print"},[n("div",{staticClass:"header"},[n("img",{staticClass:"logo",attrs:{src:t.$store.state.config.logoImg}}),t._v(" "),n("div",{staticClass:"other"},[n("Row",[n("Col",{attrs:{span:"16"}},[n("h2",[t._v(t._s(t.$store.state.config.companyName))])]),t._v(" "),n("Col",{attrs:{span:"8"}},[t._v(" 编号："+t._s(t.orderId)+" ")])],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"16"}},[n("h2",[t._v("客户证件（资料）交接表")])]),t._v(" "),n("Col",{attrs:{span:"8"}},[t._v(" "+t._s(t.now.getFullYear())+" 年 "+t._s(t.now.getMonth()+1)+" 月 "+t._s(t.now.getDate())+" 日 ")])],1)],1)]),t._v(" "),n("h2",[t._v("今收到（交还）"),n("span",[t._v(t._s(t.client.title))]),t._v(" 证件（资料）如下：")]),t._v(" "),n("div",{staticClass:"table"},[n("Table",{attrs:{columns:t.columns,data:t.entitys}})],1),t._v(" "),n("div",{staticClass:"gap-top"},[n("Row",[n("Col",{attrs:{span:"12"}},[t._v("以上证件（资料）共计："),n("span",[t._v(t._s(t.entitys.length))]),t._v(" 项")]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("接收人：")]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("移交人：")])],1),t._v(" "),n("Row",{attrs:{"class-name":"row"}},[n("Col",{attrs:{span:"12"}},[t._v("负责人："+t._s(t.client.contactor))]),t._v(" "),n("Col",{attrs:{span:"12"}},[t._v("网址：www.gzyhcs.com")])],1),t._v(" "),n("Row",{attrs:{"class-name":"row"}},[n("Col",{attrs:{span:"12"}},[t._v("负责人电话："+t._s(t.client.contactor_phone))]),t._v(" "),n("Col",{attrs:{span:"12"}},[t._v("咨询电话：020-87313109")])],1),t._v(" "),n("Row",{attrs:{"class-name":"row"}},[n("Col",{attrs:{span:"12"}},[t._v("客户地址："+t._s(t.client.address))]),t._v(" "),n("Col",{attrs:{span:"12"}},[t._v("地址：广州越秀区永福路8号永怡新都808室")])],1)],1),t._v(" "),n("Button",{attrs:{type:"info"},on:{click:t.startPrint}},[t._v("开始打印")])],1)])},staticRenderFns:[]};var z=n("VU/8")(W,j,!1,function(t){n("kL/j")},"data-v-1454f786",null).exports;r.default.use(s.a);var G=new s.a({routes:[{path:"/company",name:"ListCompany",component:p,props:function(t){return{page:t.query.page||1}},meta:{title:"公司列表"}},{path:"/company/:companyId/entity",name:"ListEntity",component:v,props:!0,meta:{title:"资料列表"}},{path:"/company/:companyId/revertentity",name:"ListRevertEntity",component:H,props:!0,meta:{title:"已归还资料列表"}},{path:"/company/:companyId/entity/add",name:"AddEntity",component:V,props:!0,meta:{title:"资料录入"}},{path:"/company/:companyId/entity/:entityListId/update",name:"UpdateEntity",component:V,props:!0,meta:{title:"资料修改"}},{path:"/company/:companyId/entity/revert/print",name:"Print",component:z,props:!0},{path:"/*",redirect:"/company"}]}),q=n("//Fk"),Z=n.n(q),Q=n("Zrlr"),J=n.n(Q),X=n("wxAW"),K=n.n(X),tt=function(t){return t.json()},et=function(){function t(e){J()(this,t),this._url=e}return K()(t,[{key:"fakeApiData",value:function(){return{status:!0,msg:"",code:0}}},{key:"_fakeApiData",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return console.log("fetch api: ",this.constructor.name,e),this.fakeApiData.apply(this,e)}},{key:"fetch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._devMode?Z.a.resolve(this._fakeApiData(t,e)):N(this._url,t,e).then(tt)}}]),t}();et.prototype._devMode=!1;var nt,rt,at,ot,it=et,st=n("bOdI"),ct=n.n(st),lt=n("Zx67"),dt=n.n(lt),ut=n("zwoO"),pt=n.n(ut),mt=n("Pf15"),_t=n.n(mt),ft=[{id:1,title:"部落胜利有限公司",address:"地球某地",saleman:"小皮球",bookkeeper:"",industry:"",taxpayer_type:"",license_status:"有效",status:"有效",contactor:"洛瑟玛·塞隆",contactor_phone:"12345678901"},{id:2,title:"亡灵大叫有限公司",address:"地球某地",saleman:"不穿衣",bookkeeper:"",industry:"",taxpayer_type:"",license_status:"有效",status:"有效",contactor:"希尔瓦娜斯·风行者",contactor_phone:"12345678901"},{id:3,title:"联盟太衰有限公司",address:"地球某地",saleman:"性感猫咪",bookkeeper:"",industry:"",taxpayer_type:"",license_status:"有效",status:"有效",contactor:"瓦里安·乌瑞恩国王",contactor_phone:"12345678901"}],ht=new(function(t){function e(){return J()(this,e),pt()(this,(e.__proto__||dt()(e)).apply(this,arguments))}return _t()(e,t),K()(e,[{key:"fakeApiData",value:function(t){switch(t.type){case"api_filter":var e=ft;t.title&&(e=e.filter(function(e){return e.title.includes(t.title)}));var n=e.length,r=2*(t.page-1),a=e.slice(r,r+2);return O(a,n);default:return{status:!1,code:-100,msg:""}}}},{key:"genCustomField",value:function(t){return _()({contactor_info:t.contactor+" "+t.contactor_phone},t)}},{key:"filter",value:function(t){return this.fetch(l()({type:"api_filter"},t)).then(x.bind(null,"msg.datas",this.genCustomField))}}]),e}(it))("/borrow/api/company"),yt="YH201804010010",vt=[{id:1,entity:"证明",amount:1,signer:"admin",sign_date:"2018-03-08",borrower:"雇员1",borrow_date:"2018-03-11",revert_borrow_date:"2018-04-11",revert_date:"2018-04-23",status:"寄存",descript:"test",entity_id:3,signer_id:1,borrower_id:2,company_id:1},{id:2,entity:"护照",amount:2,signer:"雇员2",sign_date:"2018-03-08",borrower:"雇员1",borrow_date:"2018-03-11",revert_borrow_date:"2018-04-11",revert_date:"2018-04-23",status:"归还",descript:"test",entity_id:2,signer_id:3,borrower_id:2,company_id:1,order_id:yt},{id:3,entity:"护照",amount:2,signer:"雇员2",sign_date:"2018-03-08",borrower:"雇员1",borrow_date:"2018-03-11",revert_borrow_date:"2018-04-11",revert_date:"2018-04-23",status:"归还",descript:"test",entity_id:2,signer_id:3,borrower_id:2,company_id:2,order_id:yt}],gt=new(function(t){function e(){return J()(this,e),pt()(this,(e.__proto__||dt()(e)).apply(this,arguments))}return _t()(e,t),K()(e,[{key:"fakeApiData",value:function(t){switch(t.type){case"api_filter":return O(vt.filter(function(e){return e.company_id===t.company_id&&e.status===t.status}));case"api_filter_all":return R(vt.filter(function(e){return e.company_id===t.company_id&&e.status!==t.status}));case"api_update":return vt.push(t.entityList),R(!0);case"api_revert":var e=vt.filter(function(e){return t.selected.includes(e.id)});return e?(e.forEach(function(t){t.status="归还",t.order_id=yt}),R(yt)):this.fakeApiData({type:"default"});default:return{status:!1,code:-100,msg:""}}}},{key:"filter",value:function(t){return this.fetch(l()({type:"api_filter"},t))}},{key:"filterAll",value:function(t){return this.fetch(l()({type:"api_filter_all"},t))}},{key:"update",value:function(t){return this.fetch(l()({type:"api_update"},t))}},{key:"revert",value:function(t){return this.fetch(l()({type:"api_revert"},t))}}]),e}(it))("/borrow/api/entity_list"),It=new(function(t){function e(){return J()(this,e),pt()(this,(e.__proto__||dt()(e)).apply(this,arguments))}return _t()(e,t),K()(e,[{key:"fakeApiData",value:function(t){switch(t.type){case"api_filter":return R([{id:1,name:"身份证"},{id:2,name:"护照"},{id:3,name:"证明"}]);default:return{status:!1,code:-100,msg:""}}}},{key:"filter",value:function(){return this.fetch({type:"api_filter"})}}]),e}(it))("/borrow/api/entity"),bt=[{id:1,first_name:"雇员1",last_name:""},{id:2,first_name:"雇员2",last_name:""},{id:3,first_name:"张三",last_name:""},{id:4,first_name:"fake user",last_name:""}],wt=new(function(t){function e(){return J()(this,e),pt()(this,(e.__proto__||dt()(e)).apply(this,arguments))}return _t()(e,t),K()(e,[{key:"fakeApiData",value:function(t){switch(t.type){case"api_filter":return R(bt.filter(function(e){return e.first_name.includes(t.name)}));default:return{status:!1,code:-100,msg:""}}}},{key:"genCustomField",value:function(t){return _()({name:""+t.last_name+t.first_name},t)}},{key:"filter",value:function(t){return this.fetch(l()({type:"api_filter"},t)).then(x.bind(null,"msg",this.genCustomField))}}]),e}(it))("/borrow/api/people"),kt=n("BTaQ"),Tt=n.n(kt),Et={info:kt.Notice.info,success:kt.Notice.success,warning:kt.Notice.warning,error:kt.Notice.error,default:kt.Notice.open},Lt={state:{},actions:ct()({},"SHOW_NOTIFY",function(t,e){return function(t){var e=t.type,n=void 0===e?"default":e,r=t.title,a=t.desc,o=void 0===a?"":a,i=t.duration,s=void 0===i?4.5:i;return new Z.a(function(t){Et[n].call(kt.Notice,{title:r,desc:o,duration:s,onClose:t})})}.call(this,e)})},St={state:{data:{count:100,page:1,size:10}},mutations:(nt={},ct()(nt,"SET_PAGINATION_COUNT",function(t,e){r.default.set(t.data,"count",e)}),ct()(nt,"SET_PAGINATION_PAGE",function(t,e){r.default.set(t.data,"page",e)}),nt)};r.default.use(g.a);var Ct=function(t){return new Z.a(function(e,n){t.then(function(t){t.status?e(t):(Rt.dispatch("SHOW_NOTIFY",{title:t.msg||"未知错误",type:"error",duration:0}),n(t))}).catch(function(t){console.error(t),Rt.dispatch("SHOW_NOTIFY",{title:"网络出错！",type:"error",duration:0})})})},$t={state:{companyList:[]},getters:{companyList:function(t){return t.companyList},companyById:function(t){return function(e){return t.companyList.find(function(t){return t.id===e})}}},mutations:ct()({},"FETCH_COMPANY_LIST",function(t,e){r.default.set(t,"companyList",e)}),actions:ct()({},"FETCH_COMPANY_LIST",function(t,e){var n=t.commit;t.state;return Ct(ht.filter(e)).then(function(t){return n("FETCH_COMPANY_LIST",t.msg.datas),t})})},Pt={state:{entityList:[]},getters:{entityList:function(t){return t.entityList}},mutations:ct()({},"FILTER_ENTITY_LIST",function(t,e){r.default.set(t,"entityList",e)}),actions:ct()({},"FILTER_ENTITY_LIST",function(t){var e=t.commit,n=t.state;return n.entityList.length>0?Z.a.resolve(n.entityList):It.filter().then(function(t){e("FILTER_ENTITY_LIST",t.msg)})})},Ft={state:{entitys:[]},getters:{entitys:function(t){return t.entitys}},mutations:(rt={},ct()(rt,"FILTER_ENTITYS_LIST",function(t,e){r.default.set(t,"entitys",e)}),ct()(rt,"REVERT_ENTITYS",function(t,e){var n=t.entitys.filter(function(t){return e.selected.includes(t.id)});n.length>0&&n.forEach(function(t){r.default.set(t,"status","归还")})}),rt),actions:(at={},ct()(at,"FILTER_ENTITYS_LIST",function(t,e){var n=t.commit;return Ct(gt.filter(e)).then(function(t){return n("FILTER_ENTITYS_LIST",t.msg.datas),t})}),ct()(at,"FILTER_ENTITYS_ALL_LIST",function(t,e){var n=t.commit;return Ct(gt.filterAll(e)).then(function(t){return n("FILTER_ENTITYS_LIST",t.msg),t})}),ct()(at,"UPDATE_ENTITYS",function(t,e){t.commit;return Ct(gt.update(e))}),ct()(at,"REVERT_ENTITYS",function(t,e){var n=t.commit;return Ct(gt.revert(e)).then(function(t){return n("REVERT_ENTITYS",e),t})}),at)},Nt={state:{peoples:[]},getters:{peoples:function(t){return t.peoples}},mutations:ct()({},"FILTER_PEOPLES_LIST",function(t,e){r.default.set(t,"peoples",e)}),actions:ct()({},"FILTER_PEOPLES_LIST",function(t,e){var n=t.commit;return wt.filter(e).then(function(t){return n("FILTER_PEOPLES_LIST",t.msg),t})})},Ot={state:{breadcrumb:[]},getters:{breadcrumb:function(t){return t.breadcrumb}},mutations:(ot={},ct()(ot,"PUSH_BREADCRUMB",function(t,e){r.default.set(t,"breadcrumb",[].concat(t.breadcrumb,[e]))}),ct()(ot,"POP_BREADCRUMB",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;r.default.set(t,"breadcrumb",t.breadcrumb.slice(0,-e))}),ot)},Rt=new g.a.Store({modules:{config:{state:{companyName:"广州悦海财务代理有限公司",logoImg:"/static/img/logo.png",adminUrl:"/admin"}},company:$t,entity:Pt,entitys:Ft,people:Nt,breadcrumb:Ot,notify:Lt,pagination:St},strict:!0}),xt=Rt;n("+skl");it.prototype._devMode=window._devMode||!1,r.default.config.productionTip=!1,r.default.use(Tt.a),new r.default({el:"#app",store:xt,router:G,components:{App:i},template:"<App />"})},"kL/j":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.675485c802bddd6e6120.js.map